<!DOCTYPE html>
<html>
<head>
    <title>Teste - Sistema BÃ­blia</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        .test-section { margin: 20px 0; padding: 15px; background: white; border-radius: 8px; }
        .test-result { padding: 10px; margin: 5px 0; border-radius: 4px; }
        .pass { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .fail { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        button { padding: 8px 16px; margin: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Testes do Sistema da BÃ­blia Sagrada</h1>
    
    <div class="test-section">
        <h2>Teste 1: Carregamento de Dados</h2>
        <div id="test1-result"></div>
        <button onclick="runTest1()">Executar Teste 1</button>
    </div>

    <div class="test-section">
        <h2>Teste 2: NavegaÃ§Ã£o de VersÃ­culos</h2>
        <div id="test2-result"></div>
        <button onclick="runTest2()">Executar Teste 2</button>
    </div>

    <div class="test-section">
        <h2>Teste 3: Fullscreen</h2>
        <div id="test3-result"></div>
        <button onclick="runTest3()">Executar Teste 3</button>
    </div>

    <div class="test-section">
        <h2>Executar Todos os Testes</h2>
        <button onclick="runAllTests()">ðŸš€ Executar Todos</button>
    </div>

    <script src="jsondata_almeida_rc.js"></script>
    <script src="books_bible.js"></script>

    <script>
        function showResult(testId, message, passed) {
            const resultDiv = document.getElementById(testId + '-result');
            resultDiv.innerHTML = `<div class="${passed ? 'pass' : 'fail'}">${message}</div>`;
        }

        function runTest1() {
            console.log('ðŸ§ª Executando Teste 1: Carregamento de Dados');
            
            try {
                // Verificar se os dados foram carregados
                const dataLoaded = typeof jsonData !== 'undefined' && jsonData.verses && jsonData.verses.length > 0;
                const booksLoaded = typeof booksbible !== 'undefined' && booksbible.length > 0;
                
                if (dataLoaded && booksLoaded) {
                    showResult('test1', `âœ… PASSOU: Dados carregados corretamente. ${jsonData.verses.length} versÃ­culos e ${booksbible.length} livros encontrados.`, true);
                    
                    // Teste especÃ­fico: NÃºmeros 4:5
                    const numerosVerses = jsonData.verses.filter(v => v.book == 4 && v.chapter == 4);
                    console.log('VersÃ­culos encontrados para NÃºmeros 4:', numerosVerses.length);
                    
                    if (numerosVerses.length > 5) {
                        console.log('âœ… NÃºmeros 4 tem mais de 5 versÃ­culos');
                    } else {
                        console.log('âŒ Problema: NÃºmeros 4 deveria ter mais versÃ­culos');
                    }
                    
                } else {
                    showResult('test1', 'âŒ FALHOU: Dados nÃ£o foram carregados corretamente.', false);
                }
            } catch (error) {
                showResult('test1', `âŒ ERRO: ${error.message}`, false);
            }
        }

        function runTest2() {
            console.log('ðŸ§ª Executando Teste 2: NavegaÃ§Ã£o de VersÃ­culos');
            
            try {
                // Simular seleÃ§Ã£o de NÃºmeros, capÃ­tulo 4
                const selectedBook = booksbible.find(book => book.book_name === "NÃºmeros");
                const selectedChapter = 4;
                
                if (!selectedBook) {
                    showResult('test2', 'âŒ FALHOU: Livro "NÃºmeros" nÃ£o encontrado.', false);
                    return;
                }
                
                // Contar versÃ­culos
                const versiculosCapitulo = jsonData.verses.filter(versiculo => 
                    versiculo.book == selectedBook.book_id && 
                    versiculo.chapter == selectedChapter
                );
                
                const verseCount = versiculosCapitulo.length;
                console.log(`NÃºmeros ${selectedChapter} tem ${verseCount} versÃ­culos`);
                
                if (verseCount > 5) {
                    // Testar navegaÃ§Ã£o
                    let currentVerse = 5;
                    let canGoNext = currentVerse < verseCount;
                    let canGoPrev = currentVerse > 1;
                    
                    showResult('test2', `âœ… PASSOU: NÃºmeros ${selectedChapter} tem ${verseCount} versÃ­culos. NavegaÃ§Ã£o: Anterior=${canGoPrev}, PrÃ³ximo=${canGoNext}`, true);
                } else {
                    showResult('test2', `âŒ FALHOU: NÃºmeros ${selectedChapter} deveria ter mais versÃ­culos (encontrado: ${verseCount})`, false);
                }
                
            } catch (error) {
                showResult('test2', `âŒ ERRO: ${error.message}`, false);
            }
        }

        function runTest3() {
            console.log('ðŸ§ª Executando Teste 3: Fullscreen');
            
            try {
                // Verificar se a API de fullscreen estÃ¡ disponÃ­vel
                const fullscreenAvailable = document.documentElement.requestFullscreen || 
                                          document.documentElement.webkitRequestFullscreen || 
                                          document.documentElement.mozRequestFullScreen || 
                                          document.documentElement.msRequestFullscreen;
                
                if (fullscreenAvailable) {
                    showResult('test3', 'âœ… PASSOU: API de fullscreen estÃ¡ disponÃ­vel no navegador.', true);
                } else {
                    showResult('test3', 'âŒ FALHOU: API de fullscreen nÃ£o estÃ¡ disponÃ­vel.', false);
                }
                
            } catch (error) {
                showResult('test3', `âŒ ERRO: ${error.message}`, false);
            }
        }

        function runAllTests() {
            console.log('ðŸš€ Executando todos os testes...');
            runTest1();
            setTimeout(() => runTest2(), 100);
            setTimeout(() => runTest3(), 200);
            setTimeout(() => {
                console.log('âœ… Todos os testes executados!');
                alert('Testes concluÃ­dos! Verifique os resultados na pÃ¡gina.');
            }, 300);
        }

        // Executar teste bÃ¡sico ao carregar
        window.onload = function() {
            console.log('PÃ¡gina de testes carregada');
        };
    </script>
</body>
</html> 